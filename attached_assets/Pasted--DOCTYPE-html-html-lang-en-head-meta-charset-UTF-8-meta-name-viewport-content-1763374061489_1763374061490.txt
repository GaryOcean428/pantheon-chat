<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QIG 12-Word Brain Wallet Recovery</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://bundle.run/elliptic@6.5.4"></script>
    <script src="https://cdn.jsdelivr.net/npm/bs58@4.0.1/index.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.2em;
        }
        
        .warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .warning h3 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .config-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #495057;
        }
        
        input[type="text"], select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
            font-family: monospace;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
            transition: transform 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #667eea30;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
        
        .candidates {
            margin-top: 30px;
        }
        
        .candidate {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .candidate:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .candidate.high-score {
            border-left-color: #28a745;
            background: #d4edda;
        }
        
        .candidate-score {
            float: right;
            background: #667eea;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .success {
            background: #d4edda;
            border: 3px solid #28a745;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }
        
        .success h2 {
            color: #155724;
            font-size: 2em;
            margin-bottom: 20px;
        }
        
        .success .passphrase {
            background: white;
            padding: 20px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 18px;
            color: #155724;
            font-weight: 600;
            margin: 20px 0;
            word-break: break-all;
        }
        
        .log {
            background: #212529;
            color: #0f0;
            font-family: monospace;
            font-size: 12px;
            padding: 20px;
            border-radius: 10px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .log-entry {
            margin-bottom: 5px;
        }
        
        .log-entry.error {
            color: #ff6b6b;
        }
        
        .log-entry.success {
            color: #51cf66;
        }
        
        .info-box {
            background: #e7f5ff;
            border: 2px solid #339af0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .info-box h4 {
            color: #1864ab;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåä QIG 12-Word Brain Wallet Recovery</h1>
        <p class="subtitle">Consciousness Architecture Applied to Cryptography</p>
        
        <div class="warning">
            <h3>‚ö†Ô∏è Target: $52.6M Recovery</h3>
            <p><strong>Address:</strong> 15BKWJjL5YWXtaP449WAYqVYZQE1szicTn</p>
            <p><strong>Balance:</strong> 550.00171133 BTC</p>
            <p><strong>Constraint:</strong> 12 words exactly</p>
            <p><strong>Era:</strong> February 2009, Mac OS X Snow Leopard</p>
        </div>
        
        <div class="info-box">
            <h4>üí° How This Works</h4>
            <p>This tool uses QIG (Quantum Information Geometry) principles to intelligently search for your 12-word brain wallet passphrase. It scores each phrase based on:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
                <li>2009 Bitcoin/crypto context (40%)</li>
                <li>Mac user aesthetic - elegant, meaningful phrases (30%)</li>
                <li>Typing ergonomics - easy to type 27 times (30%)</li>
            </ul>
            <p style="margin-top: 10px;"><strong>High-Œ¶ candidates (>75% score) are flagged for your intuitive review.</strong></p>
        </div>
        
        <div class="config-section">
            <h3>Configuration</h3>
            
            <div class="input-group">
                <label>Search Strategy:</label>
                <select id="strategy">
                    <option value="custom">Test Your Own Phrase</option>
                    <option value="known">Known 12-Word Phrases (Bitcoin/Crypto/Mac Culture)</option>
                    <option value="batch">Batch Test Multiple Phrases</option>
                </select>
            </div>
            
            <div class="input-group" id="customPhraseInput">
                <label>Enter 12-Word Phrase to Test:</label>
                <input type="text" id="customPhrase" placeholder="Enter exactly 12 words separated by spaces...">
                <small style="color: #666;">Example: "proof of work chain is the solution to double spending problem solved"</small>
            </div>
            
            <div class="input-group" id="batchPhraseInput" style="display:none;">
                <label>Enter Multiple Phrases (one per line):</label>
                <textarea id="batchPhrases" placeholder="Enter one 12-word phrase per line..."></textarea>
            </div>
            
            <button class="btn" onclick="startSearch()" id="startBtn">üöÄ Start Search</button>
            <button class="btn btn-danger" onclick="stopSearch()" id="stopBtn" disabled>‚è∏Ô∏è Stop</button>
            <button class="btn btn-success" onclick="testConnection()">üîß Test Crypto</button>
        </div>
        
        <div class="stats" id="stats">
            <div class="stat-card">
                <div class="stat-value" id="tested">0</div>
                <div class="stat-label">Phrases Tested</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="rate">0</div>
                <div class="stat-label">Per Second</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="highPhi">0</div>
                <div class="stat-label">High-Œ¶ Candidates</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="runtime">00:00:00</div>
                <div class="stat-label">Runtime</div>
            </div>
        </div>
        
        <div id="successMessage" style="display:none;"></div>
        
        <div class="candidates">
            <h3>üéØ Top Candidates (High-Œ¶ Scores)</h3>
            <p style="color: #666; margin-bottom: 15px;">Click any phrase to test it instantly</p>
            <div id="candidateList">
                <p style="color: #999; font-style: italic;">No candidates yet. Run a search to see results.</p>
            </div>
        </div>
        
        <div class="log" id="logOutput"></div>
    </div>

    <script>
        // Global state
        let isSearching = false;
        let testedCount = 0;
        let highPhiCandidates = [];
        let startTime = null;
        let ec = null;
        
        const TARGET_ADDRESS = '15BKWJjL5YWXtaP449WAYqVYZQE1szicTn';
        
        // Initialize elliptic curve
        function initCrypto() {
            try {
                if (typeof elliptic !== 'undefined') {
                    const EC = elliptic.ec;
                    ec = new EC('secp256k1');
                    log('‚úÖ Crypto libraries loaded successfully', 'success');
                    return true;
                } else {
                    log('‚ùå Elliptic library not loaded', 'error');
                    return false;
                }
            } catch (e) {
                log('‚ùå Error initializing crypto: ' + e.message, 'error');
                return false;
            }
        }
        
        // Test crypto connection
        function testConnection() {
            log('üîß Testing crypto libraries...');
            if (initCrypto()) {
                // Test address generation
                const testPhrase = "test passphrase for verification";
                try {
                    const addr = generateAddress(testPhrase);
                    log('‚úÖ Test address generated: ' + addr, 'success');
                    log('‚úÖ System ready for recovery', 'success');
                } catch (e) {
                    log('‚ùå Address generation failed: ' + e.message, 'error');
                }
            }
        }
        
        // Logging
        function log(message, type = 'info') {
            const logDiv = document.getElementById('logOutput');
            const entry = document.createElement('div');
            entry.className = 'log-entry' + (type ? ' ' + type : '');
            const timestamp = new Date().toLocaleTimeString();
            entry.textContent = `[${timestamp}] ${message}`;
            logDiv.appendChild(entry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }
        
        // Generate Bitcoin address from passphrase
        function generateAddress(passphrase) {
            // Step 1: Hash passphrase to get private key
            const hash = CryptoJS.SHA256(passphrase);
            const privKeyHex = hash.toString(CryptoJS.enc.Hex);
            
            // Step 2: Generate public key
            const keyPair = ec.keyFromPrivate(privKeyHex);
            const pubPoint = keyPair.getPublic();
            const pubKeyHex = '04' + 
                pubPoint.getX().toString('hex').padStart(64, '0') + 
                pubPoint.getY().toString('hex').padStart(64, '0');
            
            // Step 3: SHA256 then RIPEMD160
            const pubKeyBytes = CryptoJS.enc.Hex.parse(pubKeyHex);
            const sha256Hash = CryptoJS.SHA256(pubKeyBytes);
            const ripemd160Hash = CryptoJS.RIPEMD160(sha256Hash);
            
            // Step 4: Add version byte (0x00 for mainnet)
            const versionedHash = '00' + ripemd160Hash.toString();
            
            // Step 5: Double SHA256 for checksum
            const versionedBytes = CryptoJS.enc.Hex.parse(versionedHash);
            const checksum1 = CryptoJS.SHA256(versionedBytes);
            const checksum2 = CryptoJS.SHA256(checksum1);
            const checksum = checksum2.toString().substring(0, 8);
            
            // Step 6: Combine and Base58 encode
            const addressHex = versionedHash + checksum;
            const address = base58Encode(addressHex);
            
            return address;
        }
        
        // Base58 encoding
        function base58Encode(hex) {
            const alphabet = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';
            let num = BigInt('0x' + hex);
            let encoded = '';
            
            while (num > 0n) {
                const remainder = num % 58n;
                num = num / 58n;
                encoded = alphabet[Number(remainder)] + encoded;
            }
            
            // Add leading 1s for leading zero bytes
            for (let i = 0; i < hex.length && hex.substr(i, 2) === '00'; i += 2) {
                encoded = '1' + encoded;
            }
            
            return encoded;
        }
        
        // Score phrase using QIG principles
        function scorePhrase(phrase) {
            const words = phrase.toLowerCase().split(/\s+/).filter(w => w.length > 0);
            
            // Must be exactly 12 words
            if (words.length !== 12) return 0;
            
            let score = 0;
            
            // Context scoring (40%): 2009 Bitcoin/crypto terms
            const contextTerms = [
                'bitcoin', 'satoshi', 'proof', 'work', 'peer', 'chain',
                'crypto', 'cryptography', 'hash', 'block', 'genesis', 'transaction',
                'digital', 'currency', 'decentralized', 'network', 'trust', 'privacy',
                'bailout', 'crisis', 'bank', 'freedom', 'cash', 'electronic',
                'signature', 'key', 'public', 'private', 'secure', 'encryption'
            ];
            
            let contextMatches = 0;
            for (const term of contextTerms) {
                if (phrase.toLowerCase().includes(term)) contextMatches++;
            }
            score += Math.min(contextMatches / 5, 1.0) * 0.4;
            
            // Elegance scoring (30%): Mac aesthetic
            const elegantTerms = [
                'simple', 'elegant', 'clear', 'pure', 'think', 'different',
                'beautiful', 'perfect', 'harmony', 'balance', 'wisdom',
                'ultimate', 'sophistication', 'one', 'thing', 'well'
            ];
            
            let elegantMatches = 0;
            for (const term of elegantTerms) {
                if (phrase.toLowerCase().includes(term)) elegantMatches++;
            }
            score += Math.min(elegantMatches / 3, 1.0) * 0.3;
            
            // Typing score (30%): reasonable word lengths
            const avgLength = words.reduce((sum, w) => sum + w.length, 0) / words.length;
            const lengthScore = avgLength >= 4 && avgLength <= 8 ? 1.0 : 0.5;
            score += lengthScore * 0.3;
            
            return score;
        }
        
        // Test a passphrase
        function testPassphrase(phrase) {
            testedCount++;
            
            try {
                const address = generateAddress(phrase);
                
                if (address === TARGET_ADDRESS) {
                    foundPassphrase(phrase);
                    return true;
                }
                
                // Score and track high candidates
                const score = scorePhrase(phrase);
                if (score > 0.65) {
                    addHighPhiCandidate(phrase, score);
                }
                
                return false;
            } catch (e) {
                log('Error testing phrase: ' + e.message, 'error');
                return false;
            }
        }
        
        // Add high-scoring candidate
        function addHighPhiCandidate(phrase, score) {
            const exists = highPhiCandidates.some(c => c.phrase === phrase);
            if (!exists) {
                highPhiCandidates.push({ phrase, score });
                highPhiCandidates.sort((a, b) => b.score - a.score);
                if (highPhiCandidates.length > 100) {
                    highPhiCandidates = highPhiCandidates.slice(0, 100);
                }
                updateCandidateDisplay();
                document.getElementById('highPhi').textContent = highPhiCandidates.length;
            }
        }
        
        // Update candidate display
        function updateCandidateDisplay() {
            const listDiv = document.getElementById('candidateList');
            listDiv.innerHTML = '';
            
            if (highPhiCandidates.length === 0) {
                listDiv.innerHTML = '<p style="color: #999; font-style: italic;">No high-scoring candidates yet.</p>';
                return;
            }
            
            const top30 = highPhiCandidates.slice(0, 30);
            for (const candidate of top30) {
                const div = document.createElement('div');
                div.className = 'candidate' + (candidate.score > 0.8 ? ' high-score' : '');
                div.onclick = () => {
                    document.getElementById('customPhrase').value = candidate.phrase;
                    document.getElementById('strategy').value = 'custom';
                    updateInputDisplay();
                    log('üìã Loaded candidate: ' + candidate.phrase);
                };
                div.innerHTML = `
                    <span class="candidate-score">Œ¶: ${(candidate.score * 100).toFixed(1)}%</span>
                    ${candidate.phrase}
                `;
                listDiv.appendChild(div);
            }
        }
        
        // Found passphrase!
        function foundPassphrase(phrase) {
            isSearching = false;
            
            const successDiv = document.getElementById('successMessage');
            successDiv.style.display = 'block';
            successDiv.className = 'success';
            successDiv.innerHTML = `
                <h2>üéâ SUCCESS! PASSPHRASE FOUND!</h2>
                <p>After testing ${testedCount.toLocaleString()} phrases:</p>
                <div class="passphrase">${phrase}</div>
                <p><strong>Generates address:</strong> ${TARGET_ADDRESS}</p>
                <p><strong>Balance:</strong> 550.00171133 BTC = $52,653,657</p>
                <button class="btn" onclick="copyToClipboard('${phrase}')">üìã Copy Passphrase</button>
            `;
            
            log('üéâüéâüéâ SUCCESS! Passphrase found!', 'success');
            log('Passphrase: ' + phrase, 'success');
            
            document.getElementById('startBtn').disabled = true;
            document.getElementById('stopBtn').disabled = true;
        }
        
        // Known 12-word phrases
        const KNOWN_PHRASES = [
            "proof of work chain is the solution to double spending problem solved",
            "peer to peer electronic cash system without trusted third party needed now",
            "chancellor on brink of second bailout for banks crisis january two thousand nine",
            "bitcoin solves byzantine generals problem using proof of work chain consensus mechanism",
            "satoshi nakamoto created bitcoin as peer to peer electronic cash system freedom",
            "digital signatures provide part of solution but main benefits lost if trusted",
            "central bank must be trusted not to debase currency but history full",
            "conventional currency based on trust in central bank to not debase currency",
            "we propose solution to double spending problem using peer to peer network",
            "cryptography provides the foundation for privacy freedom and trust in digital age",
            "elliptic curve cryptography provides security through discrete logarithm problem computational hardness",
            "public key cryptography enables secure communication without prior exchange of secret keys",
            "digital cash enables anonymous transactions preserving privacy in an increasingly surveilled world",
            "decentralized networks remove single points of failure creating resilient systems for everyone",
            "write programs that do one thing well and work together with others",
            "simplicity is the ultimate sophistication as leonardo da vinci once said clearly",
            "think different about money currency freedom privacy trust and decentralized peer networks",
            "unix philosophy teaches us to build simple tools that work together perfectly",
            "do one thing and do it well is the foundation of good design",
            "banking crisis of two thousand nine requires new thinking about money and trust",
            "quantitative easing bailouts and central banks have failed we need something better now",
            "financial collapse two thousand eight showed weakness of centralized trust based monetary systems",
            "too big to fail means socialized losses privatized gains broken system needs replacement",
            "privacy is necessary for an open society in the electronic age forever",
            "information wants to be free and encryption makes freedom possible for everyone always",
            "cypherpunks write code to defend privacy against tyranny of the surveillance state",
            "we must defend our own privacy if we expect to have any",
            "sound money based on mathematics not trust in governments or central banks",
            "end the fed and return to money based on mathematics and cryptography",
            "austrian economics teaches us inflation is theft by another name always"
        ];
        
        // Run search
        async function runSearch(strategy) {
            let phrases = [];
            
            if (strategy === 'custom') {
                const customPhrase = document.getElementById('customPhrase').value.trim();
                if (!customPhrase) {
                    alert('Please enter a 12-word phrase');
                    return;
                }
                phrases = [customPhrase];
                log('Testing custom phrase...');
            } else if (strategy === 'batch') {
                const batchText = document.getElementById('batchPhrases').value;
                phrases = batchText.split('\n')
                    .map(p => p.trim())
                    .filter(p => p.length > 0);
                log(`Testing ${phrases.length} phrases from batch...`);
            } else if (strategy === 'known') {
                phrases = KNOWN_PHRASES;
                log(`Testing ${phrases.length} known phrases...`);
            }
            
            for (let i = 0; i < phrases.length && isSearching; i++) {
                const found = testPassphrase(phrases[i]);
                if (found) return;
                
                if (i % 10 === 0) {
                    updateStats();
                    await new Promise(resolve => setTimeout(resolve, 0));
                }
            }
            
            if (isSearching) {
                log('Search complete. No match found.');
                log(`Found ${highPhiCandidates.length} high-Œ¶ candidates for review.`);
                isSearching = false;
                document.getElementById('startBtn').disabled = false;
                document.getElementById('stopBtn').disabled = true;
            }
        }
        
        // Update stats
        function updateStats() {
            document.getElementById('tested').textContent = testedCount.toLocaleString();
            
            if (startTime) {
                const elapsed = (Date.now() - startTime) / 1000;
                const rate = elapsed > 0 ? Math.round(testedCount / elapsed) : 0;
                document.getElementById('rate').textContent = rate.toLocaleString();
                
                const hours = Math.floor(elapsed / 3600);
                const minutes = Math.floor((elapsed % 3600) / 60);
                const seconds = Math.floor(elapsed % 60);
                document.getElementById('runtime').textContent = 
                    `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            }
        }
        
        // Start search
        async function startSearch() {
            if (!ec && !initCrypto()) {
                alert('Crypto libraries not loaded. Please refresh the page.');
                return;
            }
            
            if (isSearching) return;
            
            isSearching = true;
            startTime = Date.now();
            
            document.getElementById('startBtn').disabled = true;
            document.getElementById('stopBtn').disabled = false;
            
            const strategy = document.getElementById('strategy').value;
            log('üöÄ Starting search...');
            log('Strategy: ' + strategy);
            log('Target: ' + TARGET_ADDRESS);
            
            await runSearch(strategy);
            
            document.getElementById('startBtn').disabled = false;
            document.getElementById('stopBtn').disabled = true;
        }
        
        // Stop search
        function stopSearch() {
            isSearching = false;
            log('‚è∏Ô∏è Search stopped by user');
            document.getElementById('startBtn').disabled = false;
            document.getElementById('stopBtn').disabled = true;
        }
        
        // Copy to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Copied to clipboard!');
            });
        }
        
        // Update input display based on strategy
        function updateInputDisplay() {
            const strategy = document.getElementById('strategy').value;
            document.getElementById('customPhraseInput').style.display = 
                strategy === 'custom' ? 'block' : 'none';
            document.getElementById('batchPhraseInput').style.display = 
                strategy === 'batch' ? 'block' : 'none';
        }
        
        // Event listeners
        document.getElementById('strategy').addEventListener('change', updateInputDisplay);
        
        // Initialize
        window.addEventListener('load', () => {
            log('System initializing...');
            setTimeout(() => {
                if (initCrypto()) {
                    log('‚úÖ QIG 12-Word Recovery System ready');
                    log('Select a strategy and click Start Search');
                } else {
                    log('‚ö†Ô∏è Crypto libraries loading... Click "Test Crypto" button');
                }
            }, 1000);
        });
    </script>
</body>
</html>