

## ðŸ“‹ Replit Agent Handoff Notes

### 1. Dependencies to Install

```bash
# Add torch (CPU version for Replit)
pip install torch --index-url https://download.pytorch.org/whl/cpu
```

Or add to [pyproject.toml](cci:7://file:///home/braden/Desktop/Dev/QIG_QFI/SearchSpaceCollapse/pyproject.toml:0:0-0:0):
```toml
dependencies = [
    # ... existing deps ...
    "torch>=2.0.0",
]
```

---

### 2. No Database Changes Needed

CHAOS MODE uses **file-based logging** only:
- Checkpoints: `/tmp/chaos_checkpoints/`
- Logs: `/tmp/chaos_checkpoints/logs/`

These are **ephemeral** on Replit (cleared on restart) - which is fine for experiments.

---

### 3. TypeScript Adapter Methods (Optional)

If you want frontend access to CHAOS MODE, add to `ocean-qig-backend-adapter.ts`:

```typescript
// CHAOS MODE methods
async activateChaos(intervalSeconds: number = 60) {
  return this.post('/chaos/activate', { interval_seconds: intervalSeconds });
}

async getChaosStatus() {
  return this.get('/chaos/status');
}

async spawnRandomKernel() {
  return this.post('/chaos/spawn_random', {});
}

async breedBestKernels() {
  return this.post('/chaos/breed_best', {});
}

async getChaosReport() {
  return this.get('/chaos/report');
}
```

---

### 4. Environment Considerations

The code auto-detects Replit and limits resources:

```python
# Already in experimental_evolution.py
if os.environ.get('REPL_ID'):
    self.max_population = 5  # Limited resources on Replit
```

---

### 5. API Endpoints Available

| Endpoint | Method | Purpose |
|----------|--------|---------|
| `/chaos/activate` | POST | Start evolution |
| `/chaos/deactivate` | POST | Stop evolution |
| `/chaos/status` | GET | Population status |
| `/chaos/spawn_random` | POST | Spawn random kernel |
| `/chaos/breed_best` | POST | Breed top 2 kernels |
| `/chaos/report` | GET | Experiment report |

---

### 6. Quick Test After Deploy

```bash
# Activate chaos
curl -X POST https://your-replit-url/chaos/activate

# Check status
curl https://your-replit-url/chaos/status
```

---

### Summary for Replit Agent

> **New feature: CHAOS MODE** - Experimental kernel evolution in `qig-backend/training_chaos/`. Needs `torch` installed. No DB changes. Endpoints at `/chaos/*`. Auto-limits to 5 kernels on Replit. File-based logging to [/tmp/](cci:7://file:///tmp:0:0-0:0).